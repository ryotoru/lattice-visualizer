(this["webpackJsonplattice-visualizer"]=this["webpackJsonplattice-visualizer"]||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(23),s=n.n(c),i=(n(107),n(0)),l=n(24),o=n(5),u=n(1);var d=()=>{const[e,t]=Object(r.useState)(2),[n,a]=Object(r.useState)([[1,0],[0,1]]),[c,s]=Object(r.useState)(5),[d,j]=Object(r.useState)(!1),[p,b]=Object(r.useState)(null),h=Object(r.useRef)(null),m=Object(r.useRef)(new i.l),x=Object(r.useMemo)((()=>{const t=[],r=Array.from({length:2*c+1},((e,t)=>t-c)),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e.flatMap((e=>t.map((t=>[...e,t]))))),[[]])}(...Array(e).fill(r)),s=a.slice(0,5e4);for(const c of s){const r=new Array(e).fill(0);for(let t=0;t<e;t++)for(let a=0;a<e;a++)r[a]+=c[t]*n[t][a];t.push(r)}return t}),[e,n,c]),f=Object(r.useMemo)((()=>e=>e.map((e=>{const[t,n,r]=e;return[t||0,n||0,r||0]}))),[]),O=e=>{const t=h.current;if(!t)return;const n=m.current;n.clear();const r=new i.h(75,t.clientWidth/t.clientHeight,.1,1e3),a=new i.q({canvas:t});a.setSize(1024,768);let c=x;e&&(c=f(c));const s=new i.c,o=new Float32Array(c.flat());s.setAttribute("position",new i.b(o,3));const u=new i.j({color:16711680,size:.1}),d=new i.i(s,u);n.add(d);const j=new i.a(5);n.add(j),r.position.z=10;const p=new l.a(r,a.domElement),b=()=>{requestAnimationFrame(b),p.update(),a.render(n,r)};b()};Object(r.useEffect)((()=>{e>3?(console.warn("Visualization only supports up to 3 dimensions."),O(!0)):2===e?(()=>{const e=o.c(h.current);e.selectAll("*").remove();const t=1024;e.attr("width",t).attr("height",768);const n=x,r=o.a(n,(e=>e[0])),a=o.a(n,(e=>e[1])),c=o.b().domain([r[0],r[1]]).range([20,1004]),s=o.b().domain([a[0],a[1]]).range([748,20]);e.selectAll("circle").data(n).enter().append("circle").attr("cx",(e=>c(e[0]))).attr("cy",(e=>s(e[1]))).attr("r",3).attr("fill","red"),e.append("line").attr("x1",c(0)).attr("y1",0).attr("x2",c(0)).attr("y2",768).attr("stroke","black"),e.append("line").attr("x1",0).attr("y1",s(0)).attr("x2",t).attr("y2",s(0)).attr("stroke","black")})():3===e&&O(!1)}),[e,n,c,d,x]);const v=e=>{const t=Array.from({length:e},((t,n)=>Array.from({length:e},((e,t)=>n===t?1:0))));a(t)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsxs)("label",{children:["Dimension:",Object(u.jsx)("input",{type:"number",min:"2",max:"400",value:e,onChange:e=>{const n=parseInt(e.target.value);n>400?alert("Dimension cannot exceed 400"):(t(n),v(n))}})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{children:["Sum Limit:",Object(u.jsx)("input",{type:"number",min:"1",max:"10",value:c,onChange:e=>s(parseInt(e.target.value))})]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Basis Vectors:"}),n.map(((e,t)=>Object(u.jsx)("div",{children:e.map(((e,r)=>Object(u.jsx)("input",{type:"number",value:e,onChange:e=>((e,t,r)=>{const c=n.map(((n,a)=>n.map(((n,c)=>a===e&&c===t?parseFloat(r):n))));a(c)})(t,r,e.target.value),style:{width:"50px",marginRight:"5px"}},r)))},t)))]}),Object(u.jsx)("button",{onClick:()=>{(()=>{const t=m.current;p&&t.remove(p);const r=Array.from({length:e},(()=>Math.floor(Math.random()*(2*c+1))-c)),a=[];for(let c=0;c<1<<e;c++){const t=new Array(e).fill(0);for(let a=0;a<e;a++)if(t[a]=r[a],c&1<<a)for(let r=0;r<e;r++)t[r]+=n[a][r];a.push(...t.slice(0,3))}const s=new i.c;s.setAttribute("position",new i.b(new Float32Array(a),3));const l=new i.g({color:65280,opacity:.5,transparent:!0}),o=new i.f(s,l);t.add(o),b(o)})(),j(!0)},children:"Shade Parallelepiped"}),Object(u.jsx)("button",{onClick:()=>{const e=m.current;p&&(e.remove(p),b(null),j(!1))},children:"Unshade Parallelepiped"}),e<=3&&Object(u.jsx)("div",{style:{width:"1024px",height:"768px"},children:2===e?Object(u.jsx)("svg",{ref:h}):Object(u.jsx)("canvas",{ref:h})}),e>3&&Object(u.jsx)("div",{style:{width:"1024px",height:"768px"},children:Object(u.jsx)("canvas",{ref:h})})]})};var j=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(d,{})})};s.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j,{})}))}},[[109,1,2]]]);
//# sourceMappingURL=main.1ed14017.chunk.js.map